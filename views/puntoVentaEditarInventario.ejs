<%- include ('partials/header.ejs', {titulo: titulo, usuario: usuario, login: login, sesion: sesion}) -%>

<script>
    function validate(input) {
        let validityState_object = input.validity;

        if (validityState_object.patternMismatch) {
            input.setCustomValidity('Entrada no valida.');
        } 
        else {
            input.setCustomValidity('');
        }
    }
</script>


<div class="justify-content-center align-items-center h-100">
    <div>
        <form action="/puntoVentaEditarInventario" method="post">
            <h2 class="fw-bold mb-2 eliminarFormTitulo">Editar <%= campoEditarP[0].toUpperCase() + campoEditarP.slice(1)  %></h2>
            
                <div class="row" style="text-align: center">
                    <div class="col-sm"></div>
            
                    <div class="form-outline form-white mb-4 col-sm registrarAtletaFormInput">
                        <label class="form-label fw-bold" for="nuevoValor">Nuevo Valor</label>
                        <% if (campoEditarP === "nombre") { %>
                            <input id="nombre" name="nuevoValor" class="form-control" type="text"
                            pattern="^[A-Za-z0-9\s]{1,90}$" onsubmit="validate (this)"/>

                        <% } else if (campoEditarP === "descripcion") { %>
                            <input id="descripcion" name="nuevoValor" class="form-control" pattern="^[A-Za-z0-9\s]{1,80}$"
                            onsubmit="validate (this)" />

                        <% } else if (campoEditarP === "precio") { %>
                            <input id="precio" name="nuevoValor" class="form-control" pattern="^[0-9]{1,4}\.{0,1}[0-9]{1,10}$"
                            onsubmit="validate (this)" />
                            
                        <% } else { %>
                            <input id="existencia" name="nuevoValor" class="form-control" pattern="^[0-9]{1,9}$"
                            onsubmit="validate (this)"/>
                        <% } %>
                    </div>
            
                    <div class="col-sm"></div>
                </div>
               

                <div style="text-align:center; margin-top: 30px;">
                    <button type="submit" class="btn btn-danger">Editar</button>
                </div>

        </form>
    </div>

    <div style="text-align: center; padding-top: 120px">
        <!-- Rellenar dinamicamente con mensaje de error -->
        <p> <%= mensajeError %> </p>
    </div>
</div>

<%- include ('partials/footer.ejs') -%> 