<!-- <%- include ('partials/header.ejs', {titulo: titulo, usuario: usuario, login:
login, sesion: sesion}) -%>
<div class="container d-flex align-items-center flex-column ">
  <div class="row mb-4">
    <div class="col">
      <h2 class="fw mb-2 p-3 contraseniaFormTitulo">Carrito</h2>
      <table class="table text-center table-bordered border-dark">
        <tbody>
          <tr>
            <th scope="row">Agua 1lt</th>
            <td>$25.00</td>
          </tr>
          <tr>
            <th>Proteína 1Kg</th>
            <td>$250.50</td>
          </tr>
          <tr>
            <th>Total =</th>
            <td>$275.50</td>
          </tr>
        </tbody>
      </table>
      <div class="row">
        <div class="d-grid gap-2">
          <a class="btn btn-secondary col mb-5" href="/puntoVentaTotal" role="button">Pagar</a>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="row">
    <div class="d-flex flex-row-reverse">
      <a class="btn btn-secondary mb-5" href="#" role="button">Regresar</a>
    </div>
  </div>
<%- include ('partials/footer.ejs') -%> -->
<%- include ('partials/header.ejs', {titulo: titulo, usuario: usuario, login: login, sesion: sesion}) -%>
    
    <script>
        function validate(input) {
            let validityState_object = input.validity;

            if (validityState_object.patternMismatch) {
                input.setCustomValidity('Entrada no valida.');
            } 
            else {
                input.setCustomValidity('');
            }
        }
    </script>


    <div class="box">
        <% carritoCompras.forEach ((element) => { %> 
        <div class="item">
            <form action="/borrarProducto" method="post">
                <input type="checkbox" onchange="this.form.submit ()" name="checkbox" value="<%= element.nombre %>">
            </form>
            
            <p class="carritoParrafo"><%= element.nombre %> - $<%= element.precio %></p>

            <form action="/modificarCantidad" method="post">
                <input type="hidden" name="producto" value="<%= element.nombre %>">
                <input type="number" name="cantidad" class="cantidadInput" min="1" value="<%= element.cantidad %>"
                onchange="this.form.submit ()">
            </form>
        </div>
        <% }); %> 

        <form action="/puntoVentaCarrito" method="post" class="item">
            <input type="text" name="newItem" placeholder="Agregar al Carrito" class="inputCarrito" onsubmit="validate (this)">
            <button type="submit" name="list" class="buttonCarrito">+</button>
        </form>
    </div>

    <div style="text-align: center; padding-top: 21px">
        <form action="/puntoVentaTotal" method="get">
            <button type="submit" class="btn btn-dark">Calcular Total</button>
        </form>
    </div>

    <div style="text-align: center; padding-top: 42px">
        <!-- Rellenar dinamicamente con mensaje de error -->
        <p> <%= mensajeError %> </p>
    </div>

<%- include ('partials/footer.ejs') -%> 

<!-- <div class="justify-contenent-center h-100">
    <h2 class="fw-blob mb-2 puntoVentaCarrito", method="post">
        Añadir al carrito
    </h2>
</div><br><br>
<div class="justify-contenent-center">
    <table border="2", width="300", height="200", align="left">
        <tr>
            <th>Producto</th>
            <th>Precio</th>
        </tr>
        <tr>
            <th>Producto</th>
            <th>Precio</th>
        </tr>
        <tr>
            <th>Producto</th>
            <th>Precio</th>
        </tr>
        <tr>
            <th>Producto</th>
            <th>Precio</th>
        </tr>
    </table>
    <table border="2", width="300", height="200", align="right">
        <tr>
            <th>Producto</th>
            <th>Cantidad</th>
        </tr>
        <tr>
            <th>Producto</th>
            <th>Cantidad</th>
        </tr>
        <tr>
            <th>Producto</th>
            <th>Cantidad</th>
        </tr>
        <tr>
            <th>Producto</th>
            <th>Cantidad</th>
        </tr>
    </table><br><br>
</div>
<div align="center">
    <button type="submit" class="btn btn-dark">Añadir Producto</button><br><br>
    <button type="submit" class="btn btn-dark">Eliminar Producto</button><br><br><br>
    <button type="submit" class="btn btn-dark">Pagar</button>
</div>
<div align="right">
    <button type="submit" class="btn btn-dark">Cancelar</button>
</div> -->
